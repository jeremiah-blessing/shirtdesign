(this.webpackJsonpshirtdesign=this.webpackJsonpshirtdesign||[]).push([[0],{272:function(e,t,a){e.exports=a(519)},277:function(e,t,a){},278:function(e,t,a){},430:function(e,t,a){},431:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){},519:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(61),r=a.n(i),o=(a(277),a(20)),l=a(21),s=a(23),h=a(22),d=(a(278),a(527)),m=a(539),v=a(540),u=a(42),g=a(541),w=a(88),f=a(263),p=a(534),b=a(521),E=a(531),C=a(530),k=a(535),O=a(538),j=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={},e.handleItemClick=function(t,a){var n=a.name;return e.setState({activeItem:n})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.activeItem;return c.a.createElement(O.a,{stackable:!0},c.a.createElement(O.a.Item,null,c.a.createElement(u.a,{name:"settings",size:"big",color:"teal"}),"Admin"),c.a.createElement(O.a.Item,{name:"orders",active:"orders"===e,onClick:this.handleItemClick},c.a.createElement(u.a,{name:"boxes",color:"teal"}),"Orders"),c.a.createElement(O.a.Item,{name:"refunds",active:"refunds"===e,onClick:this.handleItemClick},c.a.createElement(u.a,{name:"rupee sign",color:"teal"}),"Refunds"),c.a.createElement(O.a.Item,{name:"messages",active:"messages"===e,onClick:this.handleItemClick},c.a.createElement(u.a,{name:"mail",color:"teal"}),"Messages"),c.a.createElement(O.a.Item,{name:"sign-in",active:"sign-in"===e,onClick:this.handleItemClick,position:"right"},"Sign-Out",c.a.createElement(u.a,{style:{marginLeft:10},name:"sign out",color:"teal"})))}}]),a}(n.Component),z=(n.Component,a(430),a(431),a(262)),x=a(63),I=a.n(x),y=a(119),S=(a(433),a(158)),A=a.n(S);A.a.initializeApp({apiKey:"AIzaSyDPXHs6JFcO8QIpbtm40svQi4OpvuwE4-0",authDomain:"shirtdesign.firebaseapp.com",databaseURL:"https://shirtdesign.firebaseio.com",projectId:"shirtdesign",storageBucket:"shirtdesign.appspot.com",messagingSenderId:"668615918587",appId:"1:668615918587:web:453f9f0cb36a08e146415e",measurementId:"G-BSLGTKQ1QK"});var N=A.a,M=(a(520),a(537)),L=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getImages=Object(y.a)(I.a.mark((function e(){var t,a,c,i,r,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=N.storage().ref("/images/"),e.next=3,t.listAll();case 3:a=e.sent,c=[],a.items.forEach((function(e){c.push(e.location.path)})),i=[],r=0;case 8:if(!(r<c.length)){e.next=16;break}return e.next=11,N.storage().ref(c[r]).getDownloadURL();case 11:o=e.sent,i.push(o);case 13:r++,e.next=8;break;case 16:n.setState({imagesLink:i,loadedImagesLink:!0});case 17:case"end":return e.stop()}}),e)}))),n.fileChange=function(){var e=Object(y.a)(I.a.mark((function e(t){var a,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({uploading:!0}),a=t.target.files[0],e.next=4,n.uploadTaskPromise(a);case 4:c=e.sent,n.setState({imagesLink:[].concat(Object(z.a)(n.state.imagesLink),[c]),uploading:!1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.uploadTaskPromise=function(){var e=Object(y.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=N.storage().ref("/images/"+t.name).put(t);n.on("state_changed",(function(){}),(function(e){console.log("error",e),a()}),(function(){n.snapshot.ref.getDownloadURL().then((function(t){e(t)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fileInputRef=c.a.createRef(),n.addImageInCanvas=function(e){var t,a=e.width/e.height,c=window.canvas.width;e.width>e.height?t=Math.round(c/2.5):t=Math.round(c/2.5)*a,e.scale(t/e.width),e.left=Math.floor(150*Math.random())+1,e.top=Math.floor(150*Math.random())+1,e.set({transparentCorners:!1,cornerColor:"#a0c7ce",cornerStrokeColor:"#a0c7ce",borderColor:"#a0c7ce",cornerSize:12,padding:10,cornerStyle:"circle",borderDashArray:[3,3]}),window.canvas.add(e),n.setState({modalOpen:!n.state.modalOpen})},n.state={initiating:!0,uploading:!1,uploadPercent:0,imagesLink:[],loadedImagesLink:!1,modalOpen:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.imagesLink.map((function(t,a){return c.a.createElement(f.a,{rounded:!0,src:t,key:a,onClick:function(t){window.fabric.Image.fromURL(t.target.src,e.addImageInCanvas)},className:"uploaded-images"})}));return c.a.createElement(E.a,{onOpen:this.getImages,open:this.state.modalOpen,trigger:c.a.createElement("div",{className:"icon-container",onClick:function(){return e.setState({modalOpen:!e.state.modalOpen})}},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M5 8.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5zm9 .5l-2.519 4-2.481-1.96-4 5.96h14l-5-8zm8-4v14h-20v-14h20zm2-2h-24v18h24v-18z"})))},c.a.createElement(E.a.Header,null,"Select a Photo"),c.a.createElement(E.a.Content,null,c.a.createElement(f.a.Group,{size:"small"},this.state.loadedImagesLink?t:c.a.createElement(M.a,{style:{height:150,width:150}},c.a.createElement(M.a.Image,null)))),c.a.createElement(E.a.Content,null,c.a.createElement(b.a,{content:"Upload File",labelPosition:"left",color:"teal",icon:"upload",onClick:function(){return e.fileInputRef.current.click()}}),c.a.createElement("input",{ref:this.fileInputRef,type:"file",hidden:!0,onChange:this.fileChange}),c.a.createElement(b.a,{icon:!0,labelPosition:"right",color:"green",onClick:function(){return e.setState({modalOpen:!e.state.modalOpen})}},"Cancel ",c.a.createElement(u.a,{name:"close"}))),c.a.createElement(E.a.Content,null,this.state.uploading?c.a.createElement(w.a,{color:"yellow",size:"large"},c.a.createElement(u.a,{name:"clock outline"}),"Uploading"):""))}}]),a}(n.Component),D=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement(E.a,{trigger:c.a.createElement("div",{className:"icon-container"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M12 5.173l2.335 4.817 5.305.732-3.861 3.71.942 5.27-4.721-2.524v-12.005zm0-4.586l-3.668 7.568-8.332 1.151 6.064 5.828-1.48 8.279 7.416-3.967 7.416 3.966-1.48-8.279 6.064-5.827-8.332-1.15-3.668-7.569z"})))},c.a.createElement(E.a.Header,null,"Select SVG"),c.a.createElement(E.a.Content,null,c.a.createElement("h1",null,"Feature to be added!")))}}]),a}(n.Component);function B(){return c.a.createElement("div",{className:"icon-container",onClick:function(){var e=new window.fabric.Textbox("Your Text",{left:Math.floor(200*Math.random())+1,top:Math.floor(200*Math.random())+1,width:150,fontSize:20,textAlign:"center",fill:"#000000"});e.set({transparentCorners:!1,cornerColor:"#a0c7ce",cornerStrokeColor:"#a0c7ce",borderColor:"#a0c7ce",cornerSize:12,padding:10,cornerStyle:"circle",borderDashArray:[3,3]}),window.canvas.add(e).setActiveObject(e)}},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M24 20v1h-4v-1h.835c.258 0 .405-.178.321-.422l-.473-1.371h-2.231l-.575-1.59h2.295l-1.362-4.077-1.154 3.451-.879-2.498.921-2.493h2.222l3.033 8.516c.111.315.244.484.578.484h.469zm-6-1h1v2h-7v-2h.532c.459 0 .782-.453.633-.887l-.816-2.113h-6.232l-.815 2.113c-.149.434.174.887.633.887h1.065v2h-7v-2h.43c.593 0 1.123-.375 1.32-.935l5.507-15.065h3.952l5.507 15.065c.197.56.69.935 1.284.935zm-10.886-6h4.238l-2.259-6.199-1.979 6.199z"})))}var R=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"add-container"},c.a.createElement("span",{className:"add"},"Add"),c.a.createElement("div",{className:"icons-card"},c.a.createElement(B,null),c.a.createElement(L,null),c.a.createElement(D,null)))}}]),a}(n.Component),T=(a(434),a(536)),P=(n.Component,a(258)),U=a(533),W=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setTextColor=function(){console.log(window.canvas.getActiveObject()),window.canvas.getActiveObject().set("fill",n.state.selectedColor),window.canvas.renderAll()},n.state={selectedColor:"#a0c7ce"},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(U.a,{trigger:c.a.createElement("div",{style:{backgroundColor:this.state.selectedColor,transition:"all 0.3s ease"},className:"edit-icon"}),hoverable:!0,basic:!0},c.a.createElement(P.CirclePicker,{color:this.state.selectedColor,onChange:function(t){return e.setState({selectedColor:t.hex})},onChangeComplete:this.setTextColor}))}}]),a}(n.Component),H=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).handleEditIcons=function(e){var t=e.target.getAttribute("data-action");switch(console.log(window.canvas.getActiveObject()),t){case"bold":var a=window.canvas.getActiveObject().fontWeight;window.canvas.getActiveObject().fontWeight="bold"===a?"normal":"bold";break;case"italic":var n=window.canvas.getActiveObject().fontStyle;window.canvas.getActiveObject().fontStyle="italic"===n?"normal":"italic";break;case"sizeIncrease":window.canvas.getActiveObject().fontSize+=1;break;case"sizeDecrease":window.canvas.getActiveObject().fontSize-=1;break;case"alignLeft":window.canvas.getActiveObject().textAlign="left";break;case"alignCenter":window.canvas.getActiveObject().textAlign="center";break;case"alignRight":window.canvas.getActiveObject().textAlign="right";break;default:console.log("Error happened")}window.canvas.renderAll()},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"edit-icons"},c.a.createElement(W,null),c.a.createElement("div",{className:"edit-icon",onClick:this.handleEditIcons,"data-action":"bold"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M18.287 11.121c1.588-1.121 2.713-3.018 2.713-5.093 0-2.946-1.918-5.951-7.093-6.028h-11.907v2.042c1.996 0 3 .751 3 2.683v14.667c0 1.689-.558 2.608-3 2.608v2h11.123c6.334 0 8.877-3.599 8.877-7.038 0-2.538-1.417-4.67-3.713-5.841zm-8.287-8.121h2.094c2.357 0 4.126 1.063 4.126 3.375 0 2.035-1.452 3.625-3.513 3.625h-2.707v-7zm2.701 18h-2.701v-8h2.781c2.26.024 3.927 1.636 3.927 3.667 0 2.008-1.226 4.333-4.007 4.333z"}))),c.a.createElement("div",{className:"edit-icon",onClick:this.handleEditIcons,"data-action":"italic"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M9.565 20.827c-.361.732-.068 1.173.655 1.173h1.78v2h-9v-2h.897c1.356 0 1.673-.916 2.157-1.773l8.349-16.89c.403-.852-.149-1.337-.855-1.337h-1.548v-2h9v2h-.84c-1.169 0-1.596.646-2.06 1.516l-8.535 17.311z"}))),c.a.createElement("div",{className:"edit-icon",onClick:this.handleEditIcons,"data-action":"sizeDecrease"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",style:{transform:"scale(0.6)",verticalAlign:"bottom"}},c.a.createElement("path",{d:"M24 20v1h-4v-1h.835c.258 0 .405-.178.321-.422l-.473-1.371h-2.231l-.575-1.59h2.295l-1.362-4.077-1.154 3.451-.879-2.498.921-2.493h2.222l3.033 8.516c.111.315.244.484.578.484h.469zm-6-1h1v2h-7v-2h.532c.459 0 .782-.453.633-.887l-.816-2.113h-6.232l-.815 2.113c-.149.434.174.887.633.887h1.065v2h-7v-2h.43c.593 0 1.123-.375 1.32-.935l5.507-15.065h3.952l5.507 15.065c.197.56.69.935 1.284.935zm-10.886-6h4.238l-2.259-6.199-1.979 6.199z"}))),c.a.createElement("div",{className:"edit-icon",onClick:this.handleEditIcons,"data-action":"sizeIncrease"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M24 20v1h-4v-1h.835c.258 0 .405-.178.321-.422l-.473-1.371h-2.231l-.575-1.59h2.295l-1.362-4.077-1.154 3.451-.879-2.498.921-2.493h2.222l3.033 8.516c.111.315.244.484.578.484h.469zm-6-1h1v2h-7v-2h.532c.459 0 .782-.453.633-.887l-.816-2.113h-6.232l-.815 2.113c-.149.434.174.887.633.887h1.065v2h-7v-2h.43c.593 0 1.123-.375 1.32-.935l5.507-15.065h3.952l5.507 15.065c.197.56.69.935 1.284.935zm-10.886-6h4.238l-2.259-6.199-1.979 6.199z"}))),c.a.createElement("div",{className:"edit-icon",onClick:this.handleEditIcons,"data-action":"alignLeft"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M24 3h-24v-2h24v2zm-12 3h-12v2h12v-2zm12 5h-24v2h24v-2zm-12 5h-12v2h12v-2zm12 5h-24v2h24v-2z"}))),c.a.createElement("div",{className:"edit-icon",onClick:this.handleEditIcons,"data-action":"alignCenter"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M24 3h-24v-2h24v2zm-6 3h-12v2h12v-2zm6 5h-24v2h24v-2zm-6 5h-12v2h12v-2zm6 5h-24v2h24v-2z"}))),c.a.createElement("div",{className:"edit-icon",onClick:this.handleEditIcons,"data-action":"alignRight"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M0 1h24v2h-24v-2zm12 7h12v-2h-12v2zm-12 5h24v-2h-24v2zm12 5h12v-2h-12v2zm-12 5h24v-2h-24v2z"}))))}}]),a}(n.Component),F=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleCanvasClick=function(e){e.target?(console.log("an object was clicked! ",e.target.type),n.setState({editingState:e.target.type})):n.setState({editingState:"none"})},n.state={editingState:"none"},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;window.canvas?window.canvas.on("mouse:down",this.handleCanvasClick):e=setInterval((function(){window.canvas&&(window.canvas.on("mouse:down",t.handleCanvasClick),clearInterval(e))}),50)}},{key:"render",value:function(){return c.a.createElement("div",{className:"edit-container"},c.a.createElement("span",{className:"edit"},"Edit"),c.a.createElement("div",{className:"edit-container-in"},"textbox"===this.state.editingState?c.a.createElement(c.a.Fragment,null,c.a.createElement(H,null)):"","none"===this.state.editingState?c.a.createElement("h1",{className:"sae"},"Select text / Icon to edit"):"","image"===this.state.editingState?c.a.createElement("h1",{className:"sae"},"Select text / Icon to edit"):""))}}]),a}(n.Component),G=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).resizeCanvas=function(){console.log(1);var e=document.querySelector(".canvas-con"),t=window.canvas.getWidth()/window.canvas.getHeight(),a=e.clientWidth,n=(e.clientHeight,a/window.canvas.getWidth()),c=window.canvas.getZoom()*n;window.canvas.setDimensions({width:a,height:a/t}),window.canvas.setViewportTransform([c,0,0,c,0,0])},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.createCanvas(),this.resizeCanvas(),window.onresize=this.resizeCanvas,this.canvas=window.canvas,this.fabric=window.fabricInstance;var e=new this.fabric.Textbox("Your Text",{left:50,top:50,width:150,fontSize:20,textAlign:"center",setColor:"white"});e.set({transparentCorners:!1,cornerColor:"#a0c7ce",cornerStrokeColor:"#a0c7ce",borderColor:"#a0c7ce",cornerSize:12,padding:10,cornerStyle:"circle",borderDashArray:[3,3]}),window.canvas.centerObject(e),window.fabric.Image.fromURL("https://firebasestorage.googleapis.com/v0/b/shirtdesign.appspot.com/o/shirt1.png?alt=media&token=acfbcb82-2954-495f-9b35-d687fa3ce995",(function(t){t.scale(.5),t.selectable=!1,window.canvas.moveTo(t,0),window.canvas.centerObject(t),window.canvas.add(t),window.canvas.add(e)}))}},{key:"render",value:function(){return c.a.createElement(d.a,{fluid:!0},c.a.createElement(g.a,{className:"shirt-designer"},c.a.createElement(g.a.Column,{tablet:16,computer:8,verticalAlign:"middle",stretched:!0},c.a.createElement("div",{className:"canvas-container"},c.a.createElement("div",{className:"canvas-con"},c.a.createElement("canvas",{id:"sd",height:500,width:500})),c.a.createElement("div",{className:"canvas-thumbnails"},c.a.createElement("div",{className:"canvas-thumbnail"}),c.a.createElement("div",{className:"canvas-thumbnail"}),c.a.createElement("div",{className:"canvas-thumbnail"}),c.a.createElement("div",{className:"canvas-thumbnail"})))),c.a.createElement(g.a.Column,{tablet:16,computer:8},c.a.createElement("div",{className:"design-container"},c.a.createElement("h1",{className:"design-text"},"Design"),c.a.createElement("h3",{className:"design-text-subhead"},"Create Your Own Design"),c.a.createElement(R,null),c.a.createElement(F,null)))))}}]),a}(n.Component),Q=(a(515),N.firestore(),function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={currentClicked:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){fetch("/newentry").then((function(e){return e.json()}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(G,null))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(518);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[272,1,2]]]);
//# sourceMappingURL=main.d92eb1b8.chunk.js.map